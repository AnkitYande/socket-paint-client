(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,t,n){},39:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),i=n(33),r=n.n(i),s=(n(39),n(7)),a=(n(17),n(34)),l=n.n(a),j=n(0);function u(e){var t=Object(c.useRef)(null),n=Object(c.useState)(null),o=Object(s.a)(n,2),i=o[0],r=o[1],a=Object(c.useState)(!1),u=Object(s.a)(a,2),b=u[0],d=u[1],h=l()("https://socket-paint-server.herokuapp.com/",{withCredentials:!0,transports:["websocket","polling"]});h.emit("join-room",e.room,(function(e){})),h.on("clear-canvas",(function(){i&&i.clearRect(0,0,t.current.width,t.current.height)})),window.onpopstate=function(){h.disconnect()};Object(c.useEffect)((function(){f()}),[]),Object(c.useEffect)((function(){console.log("reset"),i&&(i.clearRect(0,0,t.current.width,t.current.height),h.emit("clear-canvas",e.room))}),[e.buttonToggle]),Object(c.useEffect)((function(){h&&h.on("canvas-data",(function(e){var t=new Image;t.src=e,i&&i.drawImage(t,0,0)}))}),[h]),Object(c.useEffect)((function(){e.room&&(h&&e.room&&h.emit("join-room",e.room,(function(e){alert(e)})),f())}),[e.room]),Object(c.useEffect)((function(){i&&(i.lineWidth=e.size)}),[e.size,i]),Object(c.useEffect)((function(){i&&(i.strokeStyle=e.color)}),[e.color,i]);var f=function(){var n=t.current;if(n){n.width=.8*window.innerWidth,n.height=.75*window.innerHeight,n.style.width="".concat(.8*window.innerWidth,"px"),n.style.height="".concat(.75*window.innerHeight,"px");var c=n.getContext("2d");c.lineCap="round",c.strokeStyle=e.color,c.lineWidth=e.size,r(c)}};return window.addEventListener("resize",f),Object(j.jsx)("canvas",{onMouseDown:function(e){var t=e.nativeEvent,n=t.offsetX,c=t.offsetY;i.beginPath(),i.moveTo(n,c),d(!0)},onMouseUp:function(){i.closePath(),d(!1)},onMouseMove:function(n){var c=n.nativeEvent;if(b){var o=c.offsetX,r=c.offsetY;i.lineTo(o,r),i.stroke();var s=t.current.toDataURL("image/png");h&&h.emit("canvas-data",s,e.room)}},ref:t,class:"canvas"})}var b=n(72);var d=function(){var e=Object(c.useState)("#000000"),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)(5),r=Object(s.a)(i,2),a=r[0],l=r[1],d=Object(c.useState)(""),h=Object(s.a)(d,2),f=h[0],O=h[1],v=Object(c.useState)(""),p=Object(s.a)(v,2),g=p[0],x=p[1],m=Object(c.useState)(!1),w=Object(s.a)(m,2),S=w[0],C=w[1];return Object(j.jsxs)("div",{class:"App",children:[Object(j.jsxs)("div",{class:"tool-picker",children:[Object(j.jsxs)("div",{class:"tool-cont",children:[Object(j.jsx)("h4",{children:"Enter Room"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x(f),console.log("Changing to room",f)},children:[Object(j.jsx)("input",{type:"text",name:"room",onChange:function(e){return O(e.target.value)}}),Object(j.jsx)("input",{type:"submit",value:"Submit"})]})]}),Object(j.jsxs)("div",{class:"tool-cont",children:[Object(j.jsx)("h4",{children:"Select Color"}),Object(j.jsx)("input",{type:"color",onChange:function(e){o(e.target.value)}})]}),Object(j.jsxs)("div",{class:"tool-cont",children:[Object(j.jsx)("h4",{children:"Select Size"}),Object(j.jsxs)("select",{onChange:function(e){l(e.target.value)},children:[Object(j.jsx)("option",{children:"2"}),Object(j.jsx)("option",{selected:!0,children:"5"}),Object(j.jsx)("option",{children:"10"}),Object(j.jsx)("option",{children:"15"}),Object(j.jsx)("option",{children:"20"}),Object(j.jsx)("option",{children:"30"}),Object(j.jsx)("option",{children:"50"}),Object(j.jsx)("option",{children:"100"}),Object(j.jsx)("option",{children:"200"})]})]}),Object(j.jsx)("button",{onClick:function(){C(!S),console.log("App resetting")},children:"Reset"})]}),Object(j.jsx)("div",{class:"board-container",children:Object(j.jsx)(u,{color:n,size:a,buttonToggle:S,room:g})}),Object(j.jsx)("div",{class:"bottom-bar",children:Object(j.jsx)("button",{onClick:function(){alert("".concat(b()))},children:"Generate Word"})})]})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),i(e),r(e)}))};r.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(d,{})}),document.getElementById("root")),h()}},[[73,1,2]]]);
//# sourceMappingURL=main.6351979b.chunk.js.map