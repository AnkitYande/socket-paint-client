(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(t,e,n){},39:function(t,e,n){},73:function(t,e,n){"use strict";n.r(e);var c=n(1),o=n.n(c),i=n(33),a=n.n(i),r=(n(39),n(7)),s=(n(17),n(34)),l=n.n(s),j=n(0),u=l()("http://localhost:3001",{withCredentials:!0,transports:["websocket","polling"]});function b(t){var e,n,o=t.room,i=t.size,a=t.color,s=t.buttonToggle,l=Object(c.useRef)(null),b=Object(c.useState)(null),d=Object(r.a)(b,2),f=d[0],h=d[1],O=Object(c.useState)(!1),v=Object(r.a)(O,2),x=v[0],p=v[1];Object(c.useEffect)((function(){var t=l.current;t&&g(t)}),[]),Object(c.useEffect)((function(){o&&(u.emit("join-room",o),S(),u.emit("request-canvas",o))}),[o]),Object(c.useEffect)((function(){var t=function(t){var e=t.x,n=t.y,c=t.lastX,o=t.lastY,i=t.color,a=t.size;return m(c,o,e,n,i,a)},e=function(t){return w(t)},n=function(){return S()};return u.on("draw-data",t),u.on("load-canvas",e),u.on("clear-canvas",n),function(){u.off("draw-data",t),u.off("load-canvas",e),u.off("clear-canvas",n)}}),[f]),Object(c.useEffect)((function(){f&&(S(),u.emit("clear-canvas",o))}),[s]);var g=function(t){t.width=.8*window.innerWidth,t.height=.75*window.innerHeight,t.style.width="".concat(.8*window.innerWidth,"px"),t.style.height="".concat(.75*window.innerHeight,"px");var e=t.getContext("2d");e.lineCap="round",h(e)},m=function(t,e,n,c,o,i){f&&(f.strokeStyle=o,f.lineWidth=i,f.beginPath(),f.moveTo(t,e),f.lineTo(n,c),f.stroke())},w=function(t){if(f){var e=new Image;e.src=t,e.onload=function(){return f.drawImage(e,0,0)}}},S=function(){f&&f.clearRect(0,0,l.current.width,l.current.height)};return Object(j.jsx)("canvas",{onMouseDown:function(t){var c=t.nativeEvent,o=c.offsetX,i=c.offsetY;p(!0),e=o,n=i},onMouseUp:function(){p(!1),u.emit("save-canvas",{room:o,dataUrl:l.current.toDataURL("image/png")})},onMouseMove:function(t){var c=t.nativeEvent;if(x){var r=c.offsetX,s=c.offsetY;m(e,n,r,s,a,i),u.emit("draw-data",{x:r,y:s,lastX:e,lastY:n,color:a,size:i,room:o}),e=r,n=s}},ref:l,className:"canvas"})}var d=n(72);var f=function(){var t=Object(c.useState)("#000000"),e=Object(r.a)(t,2),n=e[0],o=e[1],i=Object(c.useState)(5),a=Object(r.a)(i,2),s=a[0],l=a[1],u=Object(c.useState)(""),f=Object(r.a)(u,2),h=f[0],O=f[1],v=Object(c.useState)(""),x=Object(r.a)(v,2),p=x[0],g=x[1],m=Object(c.useState)(!1),w=Object(r.a)(m,2),S=w[0],C=w[1];return Object(j.jsxs)("div",{class:"App",children:[Object(j.jsxs)("div",{class:"tool-picker",children:[Object(j.jsxs)("div",{class:"tool-cont",children:[Object(j.jsx)("h4",{children:"Enter Room"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),g(h),console.log("Changing to room",h)},children:[Object(j.jsx)("input",{type:"text",name:"room",onChange:function(t){return O(t.target.value)}}),Object(j.jsx)("input",{type:"submit",value:"Submit"})]})]}),Object(j.jsxs)("div",{class:"tool-cont",children:[Object(j.jsx)("h4",{children:"Select Color"}),Object(j.jsx)("input",{type:"color",onChange:function(t){o(t.target.value)}})]}),Object(j.jsxs)("div",{class:"tool-cont",children:[Object(j.jsx)("h4",{children:"Select Size"}),Object(j.jsxs)("select",{onChange:function(t){l(t.target.value)},children:[Object(j.jsx)("option",{children:"2"}),Object(j.jsx)("option",{selected:!0,children:"5"}),Object(j.jsx)("option",{children:"10"}),Object(j.jsx)("option",{children:"15"}),Object(j.jsx)("option",{children:"20"}),Object(j.jsx)("option",{children:"30"}),Object(j.jsx)("option",{children:"50"}),Object(j.jsx)("option",{children:"100"}),Object(j.jsx)("option",{children:"200"})]})]}),Object(j.jsx)("button",{onClick:function(){C(!S),console.log("App resetting")},children:"Reset"})]}),Object(j.jsx)("div",{class:"board-container",children:Object(j.jsx)(b,{color:n,size:s,buttonToggle:S,room:p})}),Object(j.jsx)("div",{class:"bottom-bar",children:Object(j.jsx)("button",{onClick:function(){alert("".concat(d()))},children:"Generate Word"})})]})},h=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;n(t),c(t),o(t),i(t),a(t)}))};a.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root")),h()}},[[73,1,2]]]);
//# sourceMappingURL=main.e80b45a5.chunk.js.map